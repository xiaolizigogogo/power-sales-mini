<view class="container">
  <!-- æœªç™»å½•çŠ¶æ€ -->
  <view wx:if="{{!isLogin}}" class="not-login-container flex-column flex-center">
    <text class="not-login-icon">ğŸ‘¤</text>
    <text class="not-login-text">è¯·å…ˆç™»å½•</text>
    <navigator url="/pages/auth/login/login" class="button button-primary">å»ç™»å½•</navigator>
  </view>

  <!-- å·²ç™»å½•çŠ¶æ€ -->
  <view wx:else class="profile-container">
    <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
    <view class="profile-header">
              <view class="avatar">
          <text class="avatar-text">{{userInfo.name ? userInfo.name.charAt(0) : 'ğŸ‘¤'}}</text>
        </view>
      <view class="user-info">
        <text class="nickname">{{userInfo.nickName || 'ç”¨æˆ·'}}</text>
        <text class="role">{{userRole === 'manager' ? 'å®¢æˆ·ç»ç†' : 'æ™®é€šå®¢æˆ·'}}</text>
      </view>
    </view>

    <!-- åŠŸèƒ½åˆ—è¡¨ -->
    <view class="profile-content">
      <view class="menu-group">
        <view class="menu-item" bindtap="goToSettings">
          <view class="menu-item-left">
            <text class="menu-icon">âš™ï¸</text>
            <text>è®¾ç½®</text>
          </view>
          <text class="arrow-icon">â†’</text>
        </view>
      </view>

      <view class="menu-group">
        <view class="menu-item">
          <view class="menu-item-left">
            <text class="menu-icon">â„¹ï¸</text>
            <text>å…³äºæˆ‘ä»¬</text>
          </view>
          <text class="arrow-icon">â†’</text>
        </view>

        <view class="menu-item">
          <view class="menu-item-left">
            <text class="menu-icon">ğŸ’¬</text>
            <text>æ„è§åé¦ˆ</text>
          </view>
          <text class="arrow-icon">â†’</text>
        </view>
      </view>

      <!-- é€€å‡ºç™»å½•æŒ‰é’® -->
      <view class="logout-button">
        <button class="button button-error" bindtap="handleLogout">é€€å‡ºç™»å½•</button>
      </view>
    </view>
  </view>
</view> 