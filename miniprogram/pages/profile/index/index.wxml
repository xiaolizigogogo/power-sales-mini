<!--pages/profile/index/index.wxml-->
<view class="container">
  <!-- 用户信息 -->
  <view class="user-section">
    <view class="user-info">
      <image class="avatar" src="{{ userInfo.avatar || '/assets/images/default-avatar.png' }}" mode="aspectFill"/>
      <view class="info-right">
        <view class="name">{{ userInfo.name || '未登录' }}</view>
        <view class="company" wx:if="{{ userInfo.company }}">{{ userInfo.company }}</view>
      </view>
    </view>
    <view class="user-stats">
      <view class="stat-item">
        <text class="value">{{ stats.orderCount }}</text>
        <text class="label">订单数</text>
      </view>
      <view class="stat-item">
        <text class="value">{{ stats.contractCount }}</text>
        <text class="label">合同数</text>
      </view>
      <view class="stat-item">
        <text class="value">{{ stats.powerPoints }}</text>
        <text class="label">用电户号</text>
      </view>
    </view>
  </view>

  <!-- 用电数据 -->
  <view class="power-section">
    <view class="section-header">
      <text class="title">用电数据</text>
      <text class="more" bindtap="viewPowerData">查看更多</text>
    </view>
    <view class="power-stats">
      <view class="power-item">
        <view class="item-value">
          <text class="number">{{ powerData.monthlyConsumption }}</text>
          <text class="unit">度</text>
        </view>
        <text class="item-label">本月用电量</text>
      </view>
      <view class="power-item">
        <view class="item-value">
          <text class="number">{{ powerData.monthlyBill }}</text>
          <text class="unit">元</text>
        </view>
        <text class="item-label">本月电费</text>
      </view>
      <view class="power-item">
        <view class="item-value">
          <text class="number">{{ powerData.savingRate }}</text>
          <text class="unit">%</text>
        </view>
        <text class="item-label">节省比例</text>
      </view>
    </view>
  </view>

  <!-- 功能菜单 -->
  <view class="menu-section">
    <view class="menu-group">
      <view class="menu-title">我的服务</view>
      <view class="menu-list">
        <view class="menu-item" bindtap="navigateTo" data-url="/pages/orders/index/index">
          <image class="icon" src="/assets/icons/order.png"/>
          <text class="text">我的订单</text>
          <van-icon name="arrow" />
        </view>
        <view class="menu-item" bindtap="navigateTo" data-url="/pages/contracts/index/index">
          <image class="icon" src="/assets/icons/contract.png"/>
          <text class="text">我的合同</text>
          <van-icon name="arrow" />
        </view>
        <view class="menu-item" bindtap="navigateTo" data-url="/pages/power/points/points">
          <image class="icon" src="/assets/icons/power.png"/>
          <text class="text">用电户号</text>
          <van-icon name="arrow" />
        </view>
      </view>
    </view>

    <view class="menu-group">
      <view class="menu-title">账户管理</view>
      <view class="menu-list">
        <view class="menu-item" bindtap="navigateTo" data-url="/pages/profile/info/info">
          <image class="icon" src="/assets/icons/profile.png"/>
          <text class="text">个人信息</text>
          <van-icon name="arrow" />
        </view>
        <view class="menu-item" bindtap="navigateTo" data-url="/pages/profile/company/company">
          <image class="icon" src="/assets/icons/company.png"/>
          <text class="text">企业信息</text>
          <van-icon name="arrow" />
        </view>
        <view class="menu-item" bindtap="navigateTo" data-url="/pages/profile/address/address">
          <image class="icon" src="/assets/icons/address.png"/>
          <text class="text">用电地址</text>
          <van-icon name="arrow" />
        </view>
      </view>
    </view>

    <view class="menu-group">
      <view class="menu-title">帮助与支持</view>
      <view class="menu-list">
        <view class="menu-item" bindtap="contactService">
          <image class="icon" src="/assets/icons/service.png"/>
          <text class="text">联系客服</text>
          <van-icon name="arrow" />
        </view>
        <view class="menu-item" bindtap="navigateTo" data-url="/pages/help/help">
          <image class="icon" src="/assets/icons/help.png"/>
          <text class="text">帮助中心</text>
          <van-icon name="arrow" />
        </view>
        <view class="menu-item" bindtap="navigateTo" data-url="/pages/feedback/feedback">
          <image class="icon" src="/assets/icons/feedback.png"/>
          <text class="text">意见反馈</text>
          <van-icon name="arrow" />
        </view>
      </view>
    </view>
  </view>
</view> 