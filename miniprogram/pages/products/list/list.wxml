<view class="container">
  <!-- 搜索栏 -->
  <view class="search-bar">
    <van-search
      value="{{ searchValue }}"
      placeholder="搜索产品名称"
      bind:change="onSearchChange"
      bind:search="onSearch"
    />
  </view>

  <!-- 分类标签 -->
  <view class="category-tabs">
    <van-tabs active="{{ activeTab }}" bind:change="onTabChange">
      <van-tab title="全部"></van-tab>
      <van-tab title="工业用电"></van-tab>
      <van-tab title="商业用电"></van-tab>
      <van-tab title="居民用电"></van-tab>
    </van-tabs>
  </view>

  <!-- 产品列表 -->
  <view class="product-list">
    <block wx:for="{{ products }}" wx:key="id">
      <view class="product-card" bindtap="onProductTap" data-id="{{ item.id }}">
        <image class="product-image" src="{{ item.image }}" mode="aspectFill"/>
        <view class="product-info">
          <view class="product-name">{{ item.name }}</view>
          <view class="product-desc">{{ item.description }}</view>
          <view class="product-meta">
            <view class="product-price">
              <text class="price-label">电价：</text>
              <text class="price-value">¥{{ item.price }}/度</text>
            </view>
            <view class="product-tag" wx:if="{{ item.tag }}">{{ item.tag }}</view>
          </view>
        </view>
      </view>
    </block>
  </view>

  <!-- 加载更多 -->
  <van-loading wx:if="{{ loading }}" />
  <view wx:if="{{ !hasMore }}" class="no-more">没有更多了</view>

  <!-- 对比悬浮按钮 -->
  <view class="compare-btn" wx:if="{{ compareList.length > 0 }}" bindtap="showCompare">
    <text>对比</text>
    <view class="compare-count">{{ compareList.length }}</view>
  </view>
</view> 