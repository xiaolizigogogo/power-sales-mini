<!-- components/search/index.wxml -->
<view class="search-container">
  <!-- æœç´¢æ¡† -->
  <view class="search-bar">
    <view class="search-input-wrapper">
      <!-- æœç´¢å›¾æ ‡ -->
      <view class="search-icon">
        <text class="icon">ğŸ”</text>
      </view>
      
      <!-- è¾“å…¥æ¡† -->
      <input
        class="search-input"
        style="{{inputStyle}}"
        type="text"
        placeholder="{{placeholder}}"
        placeholder-class="input-placeholder"
        value="{{inputValue}}"
        focus="{{autoFocus}}"
        disabled="{{disabled}}"
        bindinput="onInput"
        bindfocus="onFocus"
        bindblur="onBlur"
        bindconfirm="onConfirm"
      />
      
      <!-- æ¸…é™¤æŒ‰é’® -->
      <view 
        class="clear-btn" 
        wx:if="{{showClear && inputValue}}"
        bindtap="onClear"
      >
        <text class="clear-icon">âœ•</text>
      </view>
    </view>
    
    <!-- æœç´¢æŒ‰é’® -->
    <view 
      class="search-btn" 
      wx:if="{{showButton}}"
      bindtap="onSearch"
    >
      <text class="search-btn-text">{{buttonText}}</text>
    </view>
  </view>
  
  <!-- æœç´¢é¢æ¿ -->
  <view class="search-panel" wx:if="{{showPanel && isFocused}}">
    <!-- æœç´¢å»ºè®® -->
    <view class="suggestions-section" wx:if="{{showSuggestions && suggestions.length > 0 && inputValue}}">
      <view class="section-title">æœç´¢å»ºè®®</view>
      <view class="suggestions-list">
        <view 
          class="suggestion-item"
          wx:for="{{suggestions}}"
          wx:key="index"
          data-value="{{item}}"
          bindtap="onSuggestionClick"
        >
          <view class="suggestion-icon">
            <text class="icon">ğŸ”</text>
          </view>
          <text class="suggestion-text">{{item}}</text>
        </view>
      </view>
    </view>
    
    <!-- æœç´¢å†å² -->
    <view class="history-section" wx:if="{{showHistory && searchHistory.length > 0 && !inputValue}}">
      <view class="section-header">
        <text class="section-title">æœç´¢å†å²</text>
        <view class="clear-history-btn" bindtap="onClearHistory">
          <text class="clear-history-text">æ¸…ç©º</text>
        </view>
      </view>
      
      <view class="history-list">
        <view 
          class="history-item"
          wx:for="{{searchHistory}}"
          wx:key="index"
          data-value="{{item}}"
          bindtap="onHistoryClick"
        >
          <view class="history-icon">
            <text class="icon">ğŸ•’</text>
          </view>
          <text class="history-text">{{item}}</text>
          <view 
            class="delete-history-btn"
            data-index="{{index}}"
            bindtap="onDeleteHistory"
            catchtap="true"
          >
            <text class="delete-icon">âœ•</text>
          </view>
        </view>
      </view>
    </view>
    
    <!-- çƒ­é—¨æœç´¢ -->
    <view class="hot-section" wx:if="{{showHotSearch && hotSearches.length > 0 && !inputValue}}">
      <view class="section-title">çƒ­é—¨æœç´¢</view>
      <view class="hot-list">
        <view 
          class="hot-item"
          wx:for="{{hotSearches}}"
          wx:key="index"
          data-value="{{item}}"
          bindtap="onHotSearchClick"
        >
          <text class="hot-text">{{item}}</text>
        </view>
      </view>
    </view>
    
    <!-- è‡ªå®šä¹‰å†…å®¹æ’æ§½ -->
    <view class="custom-content" wx:if="{{showCustomContent}}">
      <slot name="custom-content"></slot>
    </view>
  </view>
  
  <!-- é®ç½©å±‚ -->
  <view 
    class="search-mask" 
    wx:if="{{showMask && isFocused}}"
    bindtap="onMaskClick"
  ></view>
</view> 