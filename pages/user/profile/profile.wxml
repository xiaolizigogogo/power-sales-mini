<view class="container">
  <!-- 未登录状态 -->
  <view wx:if="{{!isLogin}}" class="not-login-container flex-column flex-center">
    <image src="/assets/images/not-login.png" mode="aspectFit" class="not-login-image"></image>
    <text class="not-login-text">请先登录</text>
    <navigator url="/pages/auth/login/login" class="button button-primary">去登录</navigator>
  </view>

  <!-- 已登录状态 -->
  <view wx:else class="profile-container">
    <!-- 用户信息头部 -->
    <view class="profile-header">
      <image src="{{userInfo.avatarUrl || '/assets/images/default-avatar.png'}}" class="avatar"></image>
      <view class="user-info">
        <text class="nickname">{{userInfo.nickName || '用户'}}</text>
        <text class="role">{{userRole === 'manager' ? '客户经理' : '普通客户'}}</text>
      </view>
    </view>

    <!-- 功能列表 -->
    <view class="profile-content">
      <view class="menu-group">
        <view class="menu-item" bindtap="goToSettings">
          <view class="menu-item-left">
            <image src="/assets/images/icons/settings.png" class="menu-icon"></image>
            <text>设置</text>
          </view>
          <image src="/assets/images/icons/arrow-right.png" class="arrow-icon"></image>
        </view>
      </view>

      <view class="menu-group">
        <view class="menu-item">
          <view class="menu-item-left">
            <image src="/assets/images/icons/about.png" class="menu-icon"></image>
            <text>关于我们</text>
          </view>
          <image src="/assets/images/icons/arrow-right.png" class="arrow-icon"></image>
        </view>

        <view class="menu-item">
          <view class="menu-item-left">
            <image src="/assets/images/icons/feedback.png" class="menu-icon"></image>
            <text>意见反馈</text>
          </view>
          <image src="/assets/images/icons/arrow-right.png" class="arrow-icon"></image>
        </view>
      </view>

      <!-- 退出登录按钮 -->
      <view class="logout-button">
        <button class="button button-error" bindtap="handleLogout">退出登录</button>
      </view>
    </view>
  </view>
</view> 